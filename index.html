<!DOCTYPE html>
<html>
  <head>
    <title>Daily Room Joiner</title>
    <script src="https://unpkg.com/@daily-co/daily-js"></script>
    <style>
      body { font-family: sans-serif; text-align: center; padding: 2rem; }
      iframe { width: 100%; height: 500px; border: none; margin-top: 1rem; }
    </style>
  </head>
  <body>
    <h1>Join a Daily Room</h1>
    <input type="text" id="roomUrl" placeholder="Enter Daily room URL" size="50">
    <button onclick="joinRoom()">Join</button>
    <div id="meetingArea"></div>
    <div id="endMessage" style="display:none; margin-top:1rem; font-weight:bold;">
      This is a custom ending message!
    </div>

    <script>
      let callFrame;

      function joinRoom() {
        const url = document.getElementById('roomUrl').value;
        const area = document.getElementById('meetingArea');
        area.innerHTML = ''; // Clear previous frame

        callFrame = window.DailyIframe.createFrame(area, {
          showLeaveButton: true,
          iframeStyle: {
            height: '500px',
            width: '100%',
            border: '1px solid #ccc'
          }
        });

        callFrame.join({ url });

        callFrame.on('left-meeting', () => {
          area.innerHTML = '';
          document.getElementById('endMessage').style.display = 'block';
        });
      }
    </script>
  </body>
</html>